# 2024-08-22
## Overall Progress
1. Continued debugging ollama
2. Refined the json code so that it would create a valid json
3. Loaded the json data into the [Local-LLM-Development]('../02-review-classification/Local-LLM-Development.ipynb')

## ollama debugging
1. Turns out the issue was a permission error with the mounted drive
   1. Chatgpt helped debug this issue. 
      1. It suggested changing the service to include the user and group
          <blockquote>
               Here are the key commands you likely ran during the troubleshooting process:

               1. **Checked the status of the `ollama` service:**
               ```bash
               sudo systemctl status ollama.service
               ```

               2. **Viewed detailed logs for the `ollama` service:**
               ```bash
               sudo journalctl -u ollama.service -b
               ```

               3. **Checked the permissions of the directory:**
               ```bash
               sudo ls -ld /mnt/sda1/Documents/ollama-models
               ```

               4. **Edited the service file or override file to ensure the correct user was running the service (if applicable):**
               ```bash
               sudo systemctl edit ollama.service
               ```

               In the editor, you may have added or verified the following lines:
               ```ini
               [Service]
               User=myuser
               Group=myuser
               ```

               5. **Reloaded the systemd daemon after making changes:**
               ```bash
               sudo systemctl daemon-reload
               ```

               6. **Restarted the `ollama` service:**
               ```bash
               sudo systemctl restart ollama.service
               ```

               7. **Checked the status of the service again to confirm it was running:**
               ```bash
               sudo systemctl status ollama.service
               ```

               These commands helped diagnose and resolve the issue, ensuring the `ollama` service had the correct permissions and was running under the appropriate user.
          </blockquote>
      2. Running the command also helped:
           ```
           sudo chown -R ollama-user:ollama-user /mnt/sda1/Documents/ollama-models
           ```
         -  note replace `ollama-user` with the account name
2. Also started downloading `gemma2:9b-instruct-q8_0` with ollama

## Json refinement
- in the last update I generated jsons. Apparently it was in the incorrect format, as appending dictionaries to one and another is not valid. 
- Valid jsons are structured as:
  - Arrays
    - ```
        [
            {
                Page URL :[{review 1}, {review 2}, ...]
            },
            {
                Page URL :[{review 1}, {review 2}, ...]
            },
        ]
      ```
  - Dictionaries
    - ```
        {
            Page URL : [{review 1}, {review 2}, ...]
        }
      ```